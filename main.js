(()=>{"use strict";var e;function t(e){e.remove()}function n(e){e.classList.toggle("card__like-button_is-active")}function o(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],p=document.querySelector("#card-template").content.querySelector(".places__item.card").cloneNode(!0),i=p.querySelector(".card__image");i.src=e.link,i.alt=e.name,c&&i.addEventListener("click",(function(t){return c(e.link,e.name)})),p.querySelector(".card__title").textContent=e.name,p.querySelector(".card__delete-button").addEventListener("click",(function(){return o(p)}));var u=p.querySelector(".card__like-button");return u.addEventListener("click",(function(){return r(u)})),p}function r(t){e=t,t.classList.add("popup_is-opened"),document.addEventListener("keydown",p),t.addEventListener("click",i)}function c(t){e=null,t.classList.remove("popup_is-opened"),document.removeEventListener("keydown",p),t.removeEventListener("click",i)}function p(t){if("Escape"===t.key)return c(e)}function i(t){if(t.target.classList.contains("popup__close")||t.target.classList.contains("popup"))return c(e)}var u=document.querySelector(".places__list"),d=document.querySelector(".profile__edit-button"),a=document.querySelector(".popup_type_edit"),l=document.querySelector(".profile__add-button"),s=document.querySelector(".popup_type_new-card"),_=document.forms["new-place"],m=document.forms["edit-profile"],y=document.querySelector(".popup__input_type_name"),v=document.querySelector(".popup__input_type_description"),f=document.querySelector(".popup__image"),k=document.querySelector(".popup__caption"),q=document.querySelector(".popup_type_image");function S(e,t){f.src=e,f.alt=t,k.textContent=t,r(q)}document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated")})),d.addEventListener("click",(function(e){a.querySelector(".popup__input_type_name").value=document.querySelector(".profile__title").textContent,a.querySelector(".popup__input_type_description").value=document.querySelector(".profile__description").textContent,r(a)})),l.addEventListener("click",(function(e){r(s)})),m.addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector(".profile__title"),n=document.querySelector(".profile__description");t.textContent=y.value,n.textContent=v.value,c(a)})),_.addEventListener("submit",(function(e){e.preventDefault();var r=o({name:_.elements["place-name"].value,link:_.elements.link.value},t,n,S);u.prepend(r),c(s),_.reset()})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){u.append(o(e,t,n,S))}))})();